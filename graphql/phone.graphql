enum LABEL_PHONE
{
	fax
	local
	mobile
}

type Phone 
{
	id: ID!
	company_id: Company! @belongsTo(relation: "company")
	customer_id: Customer! @belongsTo(relation: "customer")
	user_id: User! @belongsTo(relation: "user")
	label: LABEL_PHONE!
	phone: String!
	created_at: Date!
  updated_at: Date!
}

extend type Query
{
	phones: [Phone!]! @paginate(defaultCount: 10) @admin
}

extend type Mutation
{
  phoneCreate(company_id: ID @rules(apply: ["belongsToMe:companies"]), customer_id: ID, user_id: ID, label: LABEL_PHONE!, phone: String! @spread): Phone! @create
  phoneUpdate(id: ID!, company_id: ID @rules(apply: ["belongsToMe:companies"]), customer_id: ID, user_id: ID, label: LABEL_PHONE, phone: String! @spread): Phone! @update
  phoneDelete(id: ID! @eq): Phone @delete
}